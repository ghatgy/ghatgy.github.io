<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="PHP操作目录"><meta name="keywords" content=""><meta name="author" content="ghatgy"><meta name="copyright" content="ghatgy"><meta name="theme-color" content="#0078E7"><title>PHP操作目录 | Hexo</title><link rel="shortcut icon" href="/yun-favicon.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><link rel="alternate" href="/atom.xml" title="Hexo"><script id="yun-config">
    let Yun = window.Yun || {};
    let CONFIG = {"root":"/","title":"诗酒年华的小站","version":"0.4.0","anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><script src="//at.alicdn.com/t/font_1140697_pa6cswvjpq.js" async></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle sidebar-toggle-fixed hty-icon-button"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><aside class="sidebar"><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc sidebar-nav-active hty-icon-button" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about" title="ghatgy"><img loading="lazy" src="/avatar.jpg" alt="ghatgy"></a><div class="site-author-name"><a href="/about">ghatgy</a></div><a class="site-name" href="/about/site.html">Hexo</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item site-state-posts"><a href="/archives" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">15</span></a></div><a class="site-state-item hty-icon-button" href="https://github.com/YunYouJun/yunyoujun.github.io/issues/96" target="_blank" rel="noopener" title="reward.comment"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/ghatgy" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.popiask.cn/" title="POPI" target="_blank" style="color:#525252"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-questionnaire-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net/" title="微信公众号" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-fill"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:black"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div></div><script defer src="/js/sidebar.js"></script><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-progress"><div class="progress-bar"></div><div class="progress-info"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span></div></div><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP操作目录"><span class="toc-number">1.</span> <span class="toc-text">PHP操作目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建新目录mkdir"><span class="toc-number">1.1.</span> <span class="toc-text">创建新目录mkdir()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#判断是否是一个目录is-dir"><span class="toc-number">1.2.</span> <span class="toc-text">判断是否是一个目录is_dir()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#判断目录或文件是否存在file-exists"><span class="toc-number">1.3.</span> <span class="toc-text">判断目录或文件是否存在file_exists()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除目录rmdir"><span class="toc-number">1.4.</span> <span class="toc-text">删除目录rmdir()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更改目录的访问权限chmod"><span class="toc-number">1.5.</span> <span class="toc-text">更改目录的访问权限chmod()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#取得目录或文件访问权限fileperms"><span class="toc-number">1.6.</span> <span class="toc-text">取得目录或文件访问权限fileperms()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重命名或移动文件或目录rename"><span class="toc-number">1.7.</span> <span class="toc-text">重命名或移动文件或目录rename()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打开目录opendir"><span class="toc-number">1.8.</span> <span class="toc-text">打开目录opendir()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#读取目录中条目readdir"><span class="toc-number">1.9.</span> <span class="toc-text">读取目录中条目readdir()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#显示中文目录或文件iconv"><span class="toc-number">1.10.</span> <span class="toc-text">显示中文目录或文件iconv()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭目录句柄closedir"><span class="toc-number">1.11.</span> <span class="toc-text">关闭目录句柄closedir()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#综合实例：递归遍历phpMyAdmin下的所有条目"><span class="toc-number">2.</span> <span class="toc-text">综合实例：递归遍历phpMyAdmin下的所有条目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#递归思想"><span class="toc-number">2.1.</span> <span class="toc-text">递归思想</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#递归实现的条件"><span class="toc-number">2.2.</span> <span class="toc-text">递归实现的条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#递归遍历phpMyAdmin目录下所有条目"><span class="toc-number">2.3.</span> <span class="toc-text">递归遍历phpMyAdmin目录下所有条目</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP操作文件"><span class="toc-number">3.</span> <span class="toc-text">PHP操作文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#打开文件fopen"><span class="toc-number">3.1.</span> <span class="toc-text">打开文件fopen()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打开文件的方式"><span class="toc-number">3.2.</span> <span class="toc-text">打开文件的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭文件fclose"><span class="toc-number">3.3.</span> <span class="toc-text">关闭文件fclose()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#读取指定大小文件内容fread"><span class="toc-number">3.4.</span> <span class="toc-text">读取指定大小文件内容fread()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#读取一行内容fgets"><span class="toc-number">3.5.</span> <span class="toc-text">读取一行内容fgets()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#读取文件内容到数组中file"><span class="toc-number">3.6.</span> <span class="toc-text">读取文件内容到数组中file()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#读取文件内容到字符串中file-get-contents"><span class="toc-number">3.7.</span> <span class="toc-text">读取文件内容到字符串中file_get_contents()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实例：读取记事本中的内容，并用表格展示出来"><span class="toc-number">3.8.</span> <span class="toc-text">实例：读取记事本中的内容，并用表格展示出来</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写入文件"><span class="toc-number">3.9.</span> <span class="toc-text">写入文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将一个字符串写入文件"><span class="toc-number">3.10.</span> <span class="toc-text">将一个字符串写入文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拷贝文件"><span class="toc-number">3.11.</span> <span class="toc-text">拷贝文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除文件"><span class="toc-number">3.12.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其它的文件操作函数"><span class="toc-number">3.13.</span> <span class="toc-text">其它的文件操作函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#综合实例：递归删除phpMyAdmin目录"><span class="toc-number">4.</span> <span class="toc-text">综合实例：递归删除phpMyAdmin目录</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/28/PHP%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="ghatgy"><meta itemprop="description" content="PHP操作目录"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">PHP操作目录</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-05-28 18:15:04" itemprop="dateCreated datePublished" datetime="2020-05-28T18:15:04+08:00">2020-05-28</time></span><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content post-markdown"><h1 id="PHP操作目录"><a href="#PHP操作目录" class="headerlink" title="PHP操作目录"></a>PHP操作目录</h1><h2 id="创建新目录mkdir"><a href="#创建新目录mkdir" class="headerlink" title="创建新目录mkdir()"></a>创建新目录mkdir()</h2><p>描述：尝试新建一个由 pathname 指定的目录。</p>
<p>语法：<code>bool mkdir ( string $pathname [, int $mode = 0777 [, bool $recursive = false ]] )</code></p>
<p>参数：</p>
<ul>
<li><p>$pathname：指定目录的路径；</p>
</li>
<li><p>$mode：默认的 mode 是 0777，意味着最大可能的访问权。​$mode在windows下被忽略。 注意$mode的值为八进制。</p>
</li>
<li><p>$recursive：如果指定的路径的上级目录不存在，则也会递归创建</p>
<p>返回值：成功时返回TRUE，失败时返回FALSE。</p>
</li>
</ul>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135133.png" alt="" loading="lazy"></p>
<h2 id="判断是否是一个目录is-dir"><a href="#判断是否是一个目录is-dir" class="headerlink" title="判断是否是一个目录is_dir()"></a>判断是否是一个目录is_dir()</h2><p>描述：判断给定文件名是否是一个目录。</p>
<p>语法：<code>bool is_dir ( string $filename )</code></p>
<p>返回值：如果文件名存在，并且是个目录，返回 TRUE，否则返回FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135338.png" alt="" loading="lazy"></p>
<h2 id="判断目录或文件是否存在file-exists"><a href="#判断目录或文件是否存在file-exists" class="headerlink" title="判断目录或文件是否存在file_exists()"></a>判断目录或文件是否存在file_exists()</h2><p>语法：<code>bool file_exists ( string $filename )</code></p>
<p>提示：可以判断文件，也可以判断目录，是否存在。</p>
<p>返回：如果由 filename 指定的文件或目录存在则返回 TRUE，否则返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135525.png" alt="" loading="lazy"></p>
<h2 id="删除目录rmdir"><a href="#删除目录rmdir" class="headerlink" title="删除目录rmdir()"></a>删除目录rmdir()</h2><p>语法：<code>bool rmdir ( string $dirname )</code></p>
<p>参数：$dirname目录路径。</p>
<p>返回值：成功时返回 TRUE， 或者在失败时返回 FALSE。</p>
<p>提示：尝试删除 dirname 所指定的目录。==该目录必须是空的，且要有相应的权限==</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135642.png" alt="" loading="lazy"></p>
<h2 id="更改目录的访问权限chmod"><a href="#更改目录的访问权限chmod" class="headerlink" title="更改目录的访问权限chmod()"></a>更改目录的访问权限chmod()</h2><p>描述：改变文件的访问权限</p>
<p>语法：<code>bool chmod ( string $filename , int $mode )</code></p>
<p>参数：</p>
<ul>
<li><p>$filename，指定文件的路径；</p>
</li>
<li><p>$mode，mode 参数包含三个八进制数按顺序分别指定了==所有者、所有者所在的组==以及==所有人的访问限制==。每一部分都可以通过加入所需的权限来计算出所要的权限。==数字 1 表示使文件可执行，数字 2 表示使文件可写，数字 4 表示使文件可读。==加入这些数字来制定所需要的权限。</p>
</li>
<li><p>提示：在window下文件的只读权限是 0444。文件夹只读权限0555。</p>
</li>
</ul>
<p>注意：==<strong>此函数不能作用于远程文件</strong>。==</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135846.png" alt="" loading="lazy"></p>
<h2 id="取得目录或文件访问权限fileperms"><a href="#取得目录或文件访问权限fileperms" class="headerlink" title="取得目录或文件访问权限fileperms()"></a>取得目录或文件访问权限fileperms()</h2><p>语法：<code>int fileperms ( string $filename )</code></p>
<p>返回值：以==十进制数字==返回文件的访问权限。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528135953.png" alt="" loading="lazy"></p>
<h2 id="重命名或移动文件或目录rename"><a href="#重命名或移动文件或目录rename" class="headerlink" title="重命名或移动文件或目录rename()"></a>重命名或移动文件或目录rename()</h2><p>描述：重命名或移动一个文件或目录。如果文件不存在同一目录下，就是移动。</p>
<p>语法：<code>bool rename ( string $oldname , string $newname )</code></p>
<p>返回值：成功时返回 TRUE， 或者在失败时返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528140058.png" alt="" loading="lazy"></p>
<h2 id="打开目录opendir"><a href="#打开目录opendir" class="headerlink" title="打开目录opendir()"></a>打开目录opendir()</h2><p>描述：打开目录句柄，可用于之后的 closedir()，readdir() 和 rewinddir() 调用中。</p>
<p>语法：<code>resource opendir ( string $path )</code></p>
<p>返回值：如果成功则返回目录句柄的 resource，失败则返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528141849.png" alt="" loading="lazy"></p>
<h2 id="读取目录中条目readdir"><a href="#读取目录中条目readdir" class="headerlink" title="读取目录中条目readdir()"></a>读取目录中条目readdir()</h2><p>描述：从目录句柄中读取条目 ;</p>
<p>语法：<code>string readdir ([ resource $dir_handle ] )</code></p>
<p>说明：返回目录中下一个文件的文件名。文件名以在文件系统中的排序返回。</p>
<p>返回：成功则返回文件名 或者在失败时返回 FALSE 。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142051.png" alt="" loading="lazy"></p>
<h2 id="显示中文目录或文件iconv"><a href="#显示中文目录或文件iconv" class="headerlink" title="显示中文目录或文件iconv()"></a>显示中文目录或文件iconv()</h2><p>描述：字符串按要求的字符编码来转换</p>
<p>语法：<code>string iconv ( string $in_charset , string $out_charset , string $str )</code></p>
<p>参数：</p>
<ul>
<li><p>$in_charset，输入的字符集；</p>
</li>
<li><p>$out_charset，输出的字符集；</p>
</li>
<li><p>$str，要转换的字符串；</p>
</li>
</ul>
<p>返回：返回转换后的字符串， 或者在失败时返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142215.png" alt="" loading="lazy"></p>
<h2 id="关闭目录句柄closedir"><a href="#关闭目录句柄closedir" class="headerlink" title="关闭目录句柄closedir()"></a>关闭目录句柄closedir()</h2><p>描述：关闭由 dir_handle 指定的目录流。流必须之前被 opendir() 所打开。 </p>
<p>语法：<code>void closedir ( [resource $dir_handle] )</code></p>
<p>提示：如果省略$dir_handle，则默认为最后由opendir()打开的目录句柄。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142257.png" alt="" loading="lazy"></p>
<h1 id="综合实例：递归遍历phpMyAdmin下的所有条目"><a href="#综合实例：递归遍历phpMyAdmin下的所有条目" class="headerlink" title="综合实例：递归遍历phpMyAdmin下的所有条目"></a>综合实例：递归遍历phpMyAdmin下的所有条目</h1><h2 id="递归思想"><a href="#递归思想" class="headerlink" title="递归思想"></a>递归思想</h2><p>递归思想：==把一个相对复杂的问题转化为一个与原问题相似的规模较小的问题来求解。==比如：求n的阶乘n!=n*(n-1)!。</p>
<p>递归方法==只需少量的程序==就可描述出解题过程所需要的==多次重复计算==，大大地减少了程序的代码量。但在带来便捷的同时，也会有一些缺点，即：通常用递归方法的运行效率不高。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142449.png" alt="" loading="lazy"></p>
<h2 id="递归实现的条件"><a href="#递归实现的条件" class="headerlink" title="递归实现的条件"></a>递归实现的条件</h2><p>确定递归公式；</p>
<p>确定递归边界条件==(<strong>递归出口</strong>)==，否则会出现死循环。</p>
<h2 id="递归遍历phpMyAdmin目录下所有条目"><a href="#递归遍历phpMyAdmin目录下所有条目" class="headerlink" title="递归遍历phpMyAdmin目录下所有条目"></a>递归遍历phpMyAdmin目录下所有条目</h2><p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142537.png" alt="" loading="lazy"></p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142547.png" alt="" loading="lazy"></p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142556.png" alt="" loading="lazy"></p>
<h1 id="PHP操作文件"><a href="#PHP操作文件" class="headerlink" title="PHP操作文件"></a>PHP操作文件</h1><h2 id="打开文件fopen"><a href="#打开文件fopen" class="headerlink" title="打开文件fopen()"></a>打开文件fopen()</h2><p>描述：打开文件或者 URL</p>
<p>语法：<code>resource fopen ( string $filename , string $mode )</code></p>
<p>参数：<code>$filename</code>，指定要打开的目标文件或URL；$mode，指定文件的打开方式。</p>
<p>提示：==为移植性考虑，在用 fopen()打开文件时总是使用 ‘b’ 标记。binary==</p>
<p>返回值：成功时返回文件指针资源，如果打开失败，本函数返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142742.png" alt="" loading="lazy"></p>
<p>==以写入方式打开，它自动创建文件==</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142758.png" alt="" loading="lazy"></p>
<h2 id="打开文件的方式"><a href="#打开文件的方式" class="headerlink" title="打开文件的方式"></a>打开文件的方式</h2><p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142819.png" alt="" loading="lazy"></p>
<h2 id="关闭文件fclose"><a href="#关闭文件fclose" class="headerlink" title="关闭文件fclose()"></a>关闭文件fclose()</h2><p>描述：关闭一个已打开的文件指针</p>
<p>语法：<strong><code>bool fclose ( resource $handle )</code></strong></p>
<p>参数：$handle必须是由fopen()打开的文件指针。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142910.png" alt="" loading="lazy"></p>
<h2 id="读取指定大小文件内容fread"><a href="#读取指定大小文件内容fread" class="headerlink" title="读取指定大小文件内容fread()"></a>读取指定大小文件内容fread()</h2><p>描述：读取文件（可安全用于二进制文件） </p>
<p>语法：<strong><code>string fread ( resource $handle , int $length )</code></strong></p>
<p>参数：$handle是由fopen()创建的handle；$length最多读取的字节数。</p>
<p>提示：在区分二进制文件和文本文件的系统上（如 Windows）打开文件时，fopen() 函数的 mode 参数要加上 ‘b’。</p>
<p>返回值：返回所读取的字符串， 或者在失败时返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528142955.png" alt="" loading="lazy"></p>
<h2 id="读取一行内容fgets"><a href="#读取一行内容fgets" class="headerlink" title="读取一行内容fgets()"></a>读取一行内容fgets()</h2><p>描述：从文件指针中读取一行</p>
<p>语法：<strong><code>string fgets ( resource $handle [, int $length ] )</code></strong></p>
<p>参数：</p>
<ul>
<li><p>$handle：文件指针必须是有效的</p>
</li>
<li><p>$length：从 handle指向的文件中读取一行并返回长度最多为 length - 1 字节的字符串。==碰到换行符（包括在返回值中）、EOF 或者已经读取了 length - 1 字节后停止==（看先碰到那一种情况）。如果没有指定 length，则默认为 1K，或者说 1024 字节。 </p>
</li>
</ul>
<p>返回值：从指针 handle 指向的文件中读取了 length - 1 字节后返回字符串。 如果文件指针中没有更多的数据了则返回 FALSE。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143101.png" alt="" loading="lazy"></p>
<h2 id="读取文件内容到数组中file"><a href="#读取文件内容到数组中file" class="headerlink" title="读取文件内容到数组中file()"></a>读取文件内容到数组中file()</h2><p>描述：把整个文件读入一个数组中</p>
<p>语法： <strong><code>array file ( string $filename [, int $flags = 0 ] )</code></strong></p>
<p>参数：</p>
<ul>
<li><p>$filename，文件的路径；</p>
</li>
<li><p>$flags，附加选项；</p>
</li>
<li><p>FILE_USE_INCLUDE_PATH(1)：在include_path 中查找文件； </p>
</li>
<li><p>FILE_IGNORE_NEW_LINES(2)：在数组的每个元素末尾不添加换行符；</p>
</li>
<li><p>FILE_SKIP_EMPTY_LINES(4)：跳过空行。</p>
<p>注意：==不需要打开文件和关闭文件。==</p>
</li>
</ul>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143325.png" alt="" loading="lazy"></p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143333.png" alt="" loading="lazy"></p>
<h2 id="读取文件内容到字符串中file-get-contents"><a href="#读取文件内容到字符串中file-get-contents" class="headerlink" title="读取文件内容到字符串中file_get_contents()"></a>读取文件内容到字符串中file_get_contents()</h2><p>描述：将整个文件读入一个字符串 ，不用打开文件，也不用关闭文件</p>
<p>语法：<strong><code>string file_get_contents ( string $filename )</code></strong></p>
<p>返回：返回读取的数据，或在失败时返回false。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143411.png" alt="" loading="lazy"></p>
<h2 id="实例：读取记事本中的内容，并用表格展示出来"><a href="#实例：读取记事本中的内容，并用表格展示出来" class="headerlink" title="实例：读取记事本中的内容，并用表格展示出来"></a>实例：读取记事本中的内容，并用表格展示出来</h2><p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143431.png" alt="" loading="lazy"></p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143443.png" alt="" loading="lazy"></p>
<h2 id="写入文件"><a href="#写入文件" class="headerlink" title="写入文件"></a>写入文件</h2><p>描述：写入文件（可安全用于二进制文件）</p>
<p>语法：<strong><code>int fwrite ( resource $handle , string $string )</code></strong></p>
<p> 返回：返回写入的字符数，出现错误时则返回 FALSE 。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143528.png" alt="" loading="lazy"></p>
<h2 id="将一个字符串写入文件"><a href="#将一个字符串写入文件" class="headerlink" title="将一个字符串写入文件"></a>将一个字符串写入文件</h2><p>描述：和依次调用 fopen()，fwrite()以及 fclose() 功能一样。</p>
<p>语法：<strong><code>int file_put_contents ( string $filename , mixed $data [, int $flags = 0] )</code></strong></p>
<p>参数：</p>
<ul>
<li><p>$filename要被写入数据的文件名。</p>
</li>
<li><p>$data要写入的数据。类型可以是 string，array(一维数组)。</p>
</li>
<li><p>$flags附加选项。</p>
</li>
<li><p>FILE_USE_INCLUDE_PATH(1) 在 include 目录里搜索 filename</p>
</li>
<li><p>FILE_APPEND(8)如果文件 filename已经存在，==<strong>追加数据而不是覆盖</strong>。==</p>
</li>
<li><p>LOCK_EX(2)在写入时获得一个独占锁。</p>
<p>提示：<strong>==如果文件不存在，则会自动创建。如果文件过大，不能一次性处理==</strong>。</p>
<p>返回：该函数将返回写入到文件内数据的字节数，失败时返回FALSE。</p>
</li>
</ul>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143704.png" alt="" loading="lazy"></p>
<h2 id="拷贝文件"><a href="#拷贝文件" class="headerlink" title="拷贝文件"></a>拷贝文件</h2><p>描述：将文件从 source 拷贝到 dest。</p>
<p>语法：<strong><code>bool copy ( string $source , string $dest )</code></strong></p>
<p>提示：如果目标文件存在，则会覆盖。</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143830.png" alt="" loading="lazy"></p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p>语法：<strong><code>bool unlink ( string $filename )</code></strong> </p>
<p>返回：成功时返回 TRUE， 或者在失败时返回 FALSE。</p>
<p>提示：可以删除虚拟空间之外的文件，但必须使用相对路径(../)，但必须有权限。</p>
<p>注意：==<strong>删除的文件不会进入回收站</strong>。==</p>
<p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528143919.png" alt="" loading="lazy"></p>
<h2 id="其它的文件操作函数"><a href="#其它的文件操作函数" class="headerlink" title="其它的文件操作函数"></a>其它的文件操作函数</h2><p>filesize()，可以获取文件大小，单位为字节。</p>
<p>is_writable()，判断文件是否可写。</p>
<p>is_readable()，判断文件是否可读。</p>
<p>feof()，判断文件指针是否到达文件结尾。</p>
<p>filectime()，获取创建文件的时间。</p>
<p>fileatime()，获取文件最新访问时间。</p>
<p>filemtime()，获取文件最后修改时间。</p>
<h1 id="综合实例：递归删除phpMyAdmin目录"><a href="#综合实例：递归删除phpMyAdmin目录" class="headerlink" title="综合实例：递归删除phpMyAdmin目录"></a>综合实例：递归删除phpMyAdmin目录</h1><p><img src="https://gitee.com/ghat/blogimage/raw/master/img/20200528144027.png" alt="" loading="lazy"></p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="https://gitee.com/ghat/blogimage/raw/master/img/20200406081241.png" target="_blank" rel="noopener"><img loading="lazy" src="https://gitee.com/ghat/blogimage/raw/master/img/20200406081241.png" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="https://gitee.com/ghat/blogimage/raw/master/img/20200406081332.png" target="_blank" rel="noopener"><img loading="lazy" src="https://gitee.com/ghat/blogimage/raw/master/img/20200406081332.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>ghatgy</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://yoursite.com/2020/05/28/PHP%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95/" title="PHP操作目录">http://yoursite.com/2020/05/28/PHP%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless stating additionally.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/05/28/%E8%B6%8A%E6%9D%83%20-%20%E9%80%9A%E8%BF%87%E4%BF%AE%E6%94%B9%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E7%AE%A1%E7%90%86%E5%91%98%E6%9D%83%E9%99%90/" rel="prev" title="越权 - 通过修改参数获取管理员权限"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">越权 - 通过修改参数获取管理员权限</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/05/28/COOKIE/" rel="next" title="COOKIE"><span class="post-nav-text">COOKIE</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div><div id="comment"><div class="comment-tooltip text-center"><span>若您无 GitHub 账号，可直接在下方匿名评论。</span><br><span>若您想及时得到回复提醒，建议跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+PHP操作目录" target="_blank" rel="noopener">GitHub Issues</a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ghatgy</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v4.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v0.4.0</span></div><div class="live_time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2019-04-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>